<section class="widget formBackground" widget>
  <header>
    <legend>
      {{title}}
    </legend>
  </header>
  <div class="widget-body">
    <form class="form-horizontal form-label-left parsleyjs" method="post" (ngSubmit)="addUser()"
          data-parsley-priority-enabled="false">
      <fieldset>
        <div class="form-group row">
          <label class="form-control-label col-md-12 col-xs-12" for="fName">First Name</label>
          <div class="col-md-12 col-xs-12">
            <input type="text" id="fName" class="form-control" [(ngModel)]="user.firstname" name="fName"
                  required="required">
          </div>
        </div>
        <div class="form-group row">
          <label class="form-control-label col-md-12 col-xs-12" for="lName">Last Name</label>
          <div class="col-md-12 col-xs-12">
            <input type="text" id="lName" class="form-control" [(ngModel)]="user.lastname" name="lName" required="required">
          </div>
        </div>
        <div class="form-group row">
          <label class="form-control-label col-md-12 col-xs-12" for="email">
            E-mail
          </label>
          <div class="col-md-12 col-xs-12">
            <input type="email" id="email" class="form-control" [(ngModel)]="user.email" name="email" data-parsley-trigger="change"
                  data-parsley-validation-threshold="1"
                  required="required">
          </div>
        </div>
        <div class="form-group row">
          <label class="form-control-label col-md-12 col-xs-12" for="uName">User Name</label>
          <div class="col-md-12 col-xs-12">
            <input type="text" id="uName" class="form-control" [(ngModel)]="user.username" name="uName" required="required" [disabled]="mode =='edit' ? true : null">
          </div>
        </div>
        <div class="form-group row">
          <label class="form-control-label col-md-12 col-xs-12" for="password">
            Password
          </label>
          <div class="col-md-12 col-xs-12">
            <input type="password" id="password" class="form-control mb-sm" [(ngModel)]="user.password" name="password"
                  data-parsley-trigger="change"
                  data-parsley-minlength="6"
                  [required]="mode =='add' ? 'required' : null">
          </div>
        </div>
        <div class="form-group row">
          <label class="form-control-label col-md-12 col-xs-12" for="password-r">
            Confirm Password
          </label>
          <div class="col-md-12 col-xs-12">
            <input type="password" id="password-r" name="password-r"  class="form-control"
                  data-parsley-trigger="change"
                  data-parsley-equalto="#password"
                  data-parsley-equalto-message="Enter password similar to above Password" 
                  [required]="mode =='add' ?'required' : null">
          </div>
        </div>
        <div class="form-group row">
          <label class="form-control-label col-md-12 col-xs-12" for="role">
            Role
          </label>
          <div class="col-md-12 col-xs-12">
            <select id="role"  class="form-control" [(ngModel)]="user.role" name="role" required="">
              <option value=""></option>
              <option value="admin">Admin</option>
              <option value="developer">Developer</option>
            </select>
          </div>
        </div>
      </fieldset>
      <div *ngIf="message" class="alert alert-danger">{{message}}</div>
      <div class="form-actions">
        <button type="submit" class="btn btn-danger btn-rounded float-xs-right">Submit</button>
        <button type="button" (click)="closeForm($event)"  class="btn btn-default btn-rounded">Cancel</button>
      </div>
    </form>
  </div>
</section>
